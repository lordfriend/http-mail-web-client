<div class="register-container">
  <div class="register-dialog panel panel-default">
    <div class="panel-heading">
      <h4 class="text-center">Register</h4>
    </div>
    <promise-loader promise="registerPromise" backdrop="true" min-height="100%">
      <div class="panel-body">
        <form class="form-horizontal" name="registerForm" id="login_form" ng-submit="register()">
          <div class="form-group" ng-class="{'has-error': registerForm.username.$invalid && registerForm.username.$dirty}">
            <div class="col-sm-8">
              <input type="text" class="form-control" name="username" ng-model="user.username" placeholder="Username" required ng-pattern="/^[a-z0-9A-Z_]{3,60}$/"/>
            </div>
          </div>
          <p class="text-danger" ng-show="registerForm.username.$error.required && registerForm.username.$dirty">Username empty</p>
          <p class="text-danger" ng-show="registerForm.username.$error.pattern && registerForm.username.$dirty">Username Invalid</p>
          <div class="form-group" ng-class="{'has-error': registerForm.password.$invalid && registerForm.password.$dirty}">
            <div class="col-sm-8">
              <input type="password" class="form-control" name="password" ng-model="user.password" placeholder="Password" ng-password-complexify="30" required/>
            </div>
            <div class="col-sm-4" ng-show="registerForm.password.$dirty">
              <ng-password-complexify-meter password="user.password"></ng-password-complexify-meter>
            </div>
          </div>
          <p class="text-danger" ng-show="registerForm.password.$error.required && registerForm.password.$dirty">Password empty</p>
          <p class="text-danger" ng-show="registerForm.password.$error['pw-complexity'] && registerForm.password.$dirty && !registerForm.password.$error.required">Password too weak</p>
          <div class="form-group" ng-class="{'has-error': registerForm.passwordConfirm.$invalid && registerForm.passwordConfirm.$dirty}">
            <div class="col-sm-8">
              <input type="password" class="form-control" name="passwordConfirm" ng-model="passwordConfirm" placeholder="Confirm Password" match="user.password" required/>
            </div>
          </div>
          <p class="text-danger" ng-show="registerForm.passwordConfirm.$error.match && registerForm.inviteCode.$dirty">Password not match</p>
          <div class="form-group" ng-class="{'has-error': registerForm.inviteCode.$invalid && registerForm.inviteCode.$dirty}">
            <div class="col-sm-8">
              <input type="text" class="form-control" name="inviteCode" ng-model="user.code" placeholder="Invite Code" required/>
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-6 col-sm-offset-3">
              <button class="btn btn-primary form-control" type="submit" ng-disabled="registerForm.$invalid">Register</button>
            </div>
          </div>
        </form>
      </div>
    </promise-loader>
  </div>
</div>
